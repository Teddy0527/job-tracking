# 就活情報管理サービス：要件定義書（MVP v1.0）

---

## 1. はじめに

### 1.1 背景

* **情報量の急増**：3年夏〜4年春にかけて応募社数が文系平均30社、理系平均15社を超え、ES・面接・筆記試験など提出物と日程管理の負荷が爆発的に増大。
* **ツールのサイロ化**：スプレッドシートで企業一覧、Notionで企業研究メモ、Googleカレンダーで日程、紙のノートで自己分析――と媒体が分断し、更新・検索が煩雑。
* **二重／三重入力**：同じ日程をカレンダーと表計算に転記、ES提出状況を複数ファイルで管理するなど非効率な作業が常態化。
* **締切忘れ・提出漏れのリスク**：複数ツール間での整合性ズレにより、「ESを出し忘れて選考が終了してしまった」という実例が発生。
* **最新版 ES の所在不明**：バージョンファイルがメール・クラウド・ローカルに散在し、誤って旧版を提出する事故リスク。
* **心理的ストレス**：情報整理そのものが"作業負荷"となり、本来注力すべき面接対策・自己分析に時間を割けない。

### 1.1.1 課題

1. **情報の散在と重複入力**
   * サイロ化したツール間で同一情報を複数回入力・更新する非効率。
2. **締切・日程管理の抜け漏れ**
   * 手動転記ゆえにカレンダーと管理表に差異が生じ、機会損失へ直結。
3. **資料バージョン管理の不統一**
   * 「最新版」判定が人依存で、誤提出・確認工数増大。
4. **全体進捗の可視化不足**
   * どの企業にどこまで進んでいるかを一目で把握できず、優先順位づけが困難。
5. **コラボレーションとプライバシーの両立課題**
   * 友人やキャリアセンターに共有したい情報と、氏名・連絡先など公開したくない情報の分離が難しい。

### 1.2 目的

* **一元管理ダッシュボードの提供**：応募企業・進捗・日程・ES を単一画面に統合し、見たい情報に即アクセスできる状態を実現。
* **入力回数の最小化**：企業カードひとつ登録すれば、進捗・日程・資料を紐づけ、Google カレンダーへ自動同期。
* **進捗の定量可視化**：固定5ステップ＋%バー表示で "今どこに注力すべきか" を瞬時に判断可能。
* **最新版 ES のワンクリック取得**：1社1ファイルポリシー＋上書き保存で常に最新ファイルを保持。
* **安全な共有基盤**：閲覧／編集権限を分離し、UI 上で個人情報をマスクしても元データは保持。
* **心理的負荷の軽減**：情報整理に費やす時間とストレスを削減し、面接準備・自己分析など本質的活動へ集中させる。

## 2. ターゲットユーザー

| 項目   | 定義                                |
| ---- | --------------------------------- |
| 学年   | 3年夏インターン〜4年本選考期の学生                |
| 専攻   | 文理混在（特に応募社数が多い総合職志望）              |
| デバイス | **PC ファースト**（後からモバイル最適化予定）        |
| ペイン  | ① ES／選考ステータスの二重管理 ② 締切見落とし ③ 資料散在 |

---

## 3. 機能要件（MVP）

### 3.1 企業カード機能

**企業カードの構成要素**
| フィールド名 | 必須/任意 | データ型 | 説明 |
|-------------|----------|----------|------|
| 企業名 | 必須 | 文字列 | 企業の正式名称 |
| 業界 | 任意 | 文字列 | IT、金融、製造業など |
| 職種 | 任意 | 文字列 | エンジニア、営業、企画など |
| マイページリンク | 任意 | URL | 企業採用サイトのURL |
| マイページパスワード | 任意 | 暗号化文字列 | 採用サイトログイン用（暗号化保存） |

### 3.2 選考ステップ管理

**5段階選考フロー**
1. **ES提出** (20%)
2. **書類選考** (40%)
3. **一次面接** (60%)
4. **最終面接** (80%)
5. **内定** (100%)

**各ステップの管理項目**
- **日程情報**：ES締切日、面接日時
- **選考結果**：合格 / 不合格 / 選考中
- **メモ欄**：自由記述

### 3.3 ファイル・リンク管理

- **対応形式**：PDF + 外部リンク（Notion、Google Drive等）
- **ファイル数制限**：企業あたり最大5ファイル
- **命名規則**：自由（ユーザー任意）
- **保存場所**：Supabase Storage

### 3.4 機能一覧表

| 優先度        | ID   | 機能概要                  | 詳細仕様 |
| ---------- | ---- | --------------------- | -------- |
| **Must**   | F-1  | 企業カード作成               | 上記5フィールド入力フォーム、自動カード生成 |
| **Must**   | F-2  | ステータス管理               | 5ステップ選考フロー、選考結果3状態管理 |
| **Must**   | F-3  | 進捗％自動計算               | ステップ完了ごとに20%刻みで自動バー更新 |
| **Must**   | F-4  | カンバン／テーブル切替           | 5列カンバンボード（ドラッグ&ドロップ後日実装） |
| **Must**   | F-5  | Google Calendar 双方向同期 | ES締切・面接日程の自動同期 |
| **Must**   | F-7  | ファイル添付・リンク管理              | PDF最大5個 + 外部リンク登録 |
| **Must**   | F-11 | PC向けミニマルUI            | 企業カード中心レイアウト |
| **Should** | F-8  | 外部リンク集約               | 企業カード内にリンクまとめ表示 |
| **Should** | F-9  | 権限付き共有                | URL招待での閲覧／編集権限分離 |
| **Could**  | F-6  | 通知                    | Google Calendar通知活用 |

## 4. 非機能要件

| カテゴリ    | 内容                              |
| ------- | ------------------------------- |
| パフォーマンス | ボード画面表示 < 2 秒（100社登録時）          |
| 容量制限    | ユーザー毎アップロード総量 100 MB まで         |
| セキュリティ  | HTTPS／DB 暗号化／OAuth 2.0認証 |
| 品質      | テストカバレッジ 80% 以上                 |

## 5. スコープ外（将来検討）

- モバイル専用アプリ / プッシュ通知
- AI レコメンド（類似 ES 検索、面接質問生成 等）
- 複数バージョンの自動管理・比較
- 個人情報マスク機能（初期MVPでは実装せず）

---

## 6. 技術アーキテクチャ & 実装概要

### 6.1 採用スタック

| 層         | 技術                                            |
| --------- | --------------------------------------------- |
| フロントエンド   | **React 18 + TypeScript + Material‑UI (MUI)** |
| バックエンド    | **Node.js (Supabase Functions)**              |
| データベース    | **Supabase PostgreSQL**                       |
| 認証        | Supabase Auth（Google OAuth）                   |
| ファイルストレージ | Supabase Storage                              |
| ホスティング    | Vercel                                        |
| 外部連携      | Google Calendar API                           |

### 6.2 データベース設計

#### 主要テーブル

**users**
```sql
- id (uuid, primary key)
- email (text)
- name (text)
- google_id (text)
- created_at (timestamp)
- updated_at (timestamp)
```

**companies**
```sql
- id (uuid, primary key)
- user_id (uuid, foreign key)
- name (text, required) -- 企業名
- industry (text) -- 業界
- position (text) -- 職種
- mypage_url (text) -- マイページリンク
- mypage_password (text, encrypted) -- マイページパスワード
- current_step (integer) -- 1-5 (ES提出→内定)
- status (text) -- 合格/不合格/選考中
- memo (text)
- created_at (timestamp)
- updated_at (timestamp)
```

**events**
```sql
- id (uuid, primary key)
- company_id (uuid, foreign key)
- title (text) -- ES締切、一次面接など
- event_date (timestamp)
- event_type (text) -- deadline, interview
- gcal_event_id (text) -- Google Calendar連携用
- created_at (timestamp)
```

**documents**
```sql
- id (uuid, primary key)
- company_id (uuid, foreign key)
- filename (text)
- file_url (text) -- Supabase Storage URL
- file_type (text) -- pdf, link
- created_at (timestamp)
```

**external_links**
```sql
- id (uuid, primary key)
- company_id (uuid, foreign key)
- title (text)
- url (text)
- created_at (timestamp)
```

**shared_boards**
```sql
- id (uuid, primary key)
- owner_id (uuid, foreign key)
- share_id (text, unique) -- URL用ランダム文字列
- permission (text) -- view, edit
- created_at (timestamp)
```

### 6.3 API設計

**RESTエンドポイント**
- `GET/POST /api/companies` - 企業一覧取得・作成
- `GET/PUT/DELETE /api/companies/:id` - 企業詳細操作
- `POST /api/events` - イベント作成
- `POST /api/calendar/sync` - Google Calendar同期
- `POST /api/documents/upload` - ファイルアップロード
- `GET /api/shared/:shareId` - 共有ボード取得

### 6.4 画面構成

**主要ページ**
1. **ログイン画面** - Google OAuth認証
2. **ダッシュボード** - 企業カード一覧（カンバン/テーブル切替）
3. **企業詳細画面** - 企業情報編集・ファイル管理
4. **共有ボード** - 権限付き共有表示

**コンポーネント構成**
- `CompanyCard` - 企業カード表示
- `KanbanBoard` - 5列カンバン表示
- `CompanyForm` - 企業登録・編集フォーム
- `FileUpload` - PDF・リンク管理
- `CalendarIntegration` - Google Calendar連携
- `ShareDialog` - 共有設定ダイアログ

### 6.5 セキュリティ要件

- **認証**: Supabase Auth + Google OAuth 2.0
- **認可**: Row Level Security (RLS) 設定
- **暗号化**: マイページパスワードはAES暗号化
- **HTTPS**: 全通信SSL/TLS暗号化
- **CORS**: フロントエンドドメイン制限

### 6.6 開発スケジュール（1週間MVP）

| Day | 目標                            |
| --- | ----------------------------- |
| 1‑2 | Supabase セットアップ・認証・基本レイアウト |
| 3‑4 | 企業CRUD・5ステップ進捗・カンバン実装 |
| 5‑6 | Google Calendar 連携・ファイルアップロード |
| 7   | 共有機能・UI調整・Vercelデプロイ |

---

## 7. 受入基準

### 7.1 機能テスト
- [ ] 企業カード作成・編集・削除
- [ ] 5ステップ進捗管理・自動％計算
- [ ] Google Calendar双方向同期
- [ ] PDF・リンクファイル管理（最大5個）
- [ ] カンバン・テーブル表示切替
- [ ] 共有URL生成・権限制御

### 7.2 非機能テスト
- [ ] 100社登録時の表示速度 < 2秒
- [ ] 暗号化パスワード保存確認
- [ ] モバイル基本対応（レスポンシブ）

### 7.3 セキュリティテスト
- [ ] 未認証アクセス遮断
- [ ] 他ユーザーデータアクセス不可
- [ ] SQL インジェクション対策

---

## 8. 運用・保守要件

### 8.1 バックアップ
- Supabase自動バックアップ（日次）
- ユーザーデータエクスポート機能

### 8.2 監視
- Vercel Analytics によるパフォーマンス監視
- Supabase ダッシュボードでDB監視

### 8.3 サポート
- 基本的なFAQ作成
- バグ報告・要望受付窓口設置

---

**文書バージョン**: v1.0  
**最終更新**: 2025年1月26日  
**作成者**: Claude Code Assistant